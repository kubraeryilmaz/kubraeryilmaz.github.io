---
layout: project
title: "CS585 HW3: Multiple Object Tracking"
date: 2021-04-09
---

Introduction
---------------------

The goal of this assignment is learning more about the practical issues that arise when designing a tracking system. We are asked to track moving objects in video sequences, i.e., identifying the same object from frame to frame. General outline for our approach:

1. We considered two frames at a time instead of using multiple hypothesis tracking (MHT) with more than two frames.

2. We used a greedy, suboptimal bipartite matching algorithm with some improvements.

3. To estimate the state of each tracked object, we used an alpha-beta filter.

For this assignment we were expected to use 2 different videos one shows a flying bat swarm and the other shows cells in a Petri dish.

![Bat dataset false color image](/pics/CS585Bats-FalseColorBats.png 'Bat dataset false color image'){:height="512px" width="512px"}
![Bat dataset gray color image](/pics/CS585Bats-GrayBats.png 'Bat dataset gray color image'){:height="512px" width="512px"}
![Cell dataset](/pics/CS585-Cells.jpg 'Cell dataset'){:height="553px" width="518px"}

Methodology
---------------------

We were provided the bats locations but we implemented the segmentation for the cells. For the segmantation, first we construct a manual circle to mask out the outside of the petri dish. Next, we blur the image with 5x5 kernel. Then we dilate with a rectangular kernel, find contours using the opencv countour detector, and we use openCV functionality to draw bounding boxes around the detected contours. Finally we identify the centers for localizations.

Our tracking algorithm as follows:

1. Construct a euclidean distance matrix between localizations in a frame and predicted state for each track.
2. Use a bi-partite matching algorithm implementation in scipy (scipy.linear_sum_assingment) to do the matching
3. We additionally remove a single localization in the current frame, and recompute the optimal match. We repeat this for each localization. If the average cost per match decreases by more than a threshold, we consider this a new object.
4. Using these matches, update the state of each track using alpha-beta filtering.


Discussions
---------------------
Show your tracking results on some portion of the sequence. In addition to showing your tracking results on an easy portion of the data, identify a challenging situation where your tracker succeeds, and a challenging situation where your tracker fails.
How do you decide to begin new tracks and terminate old tracks as the objects enter and leave the field of view?
What happens with your algorithm when objects touch and occlude each other, and how could you handle this so you do not break track?
What happens when there are spurious detections that do not connect with other measurements in subsequent frames?
What are the advantages and drawbacks of different kinematic models: Do you need to model the velocity of the objects, or is it sufficient to just consider the distances between the objects in subsequent frames?

1 Tracking Results
---------------------
Here is an example for tracking results on Bats dataset.

<video src="/pics/hw5_writeup_files/bat_video.mp4" width="512" height="536" controls preload></video>

Challengeing situations that our tracker succeeds:
![Bat analysis](/pics/hw5_writeup_files/bat_analysis.png 'Bat Analysis'){:height="512px" width="512px"}
![Bat analysis_2](/pics/hw5_writeup_files/bat_success.png 'Bat Analysis'){:height="512px" width="512px"}
![Cell analysis_3](/pics/hw5_writeup_files/success.png 'Cell Analysis'){:height="512px" width="512px"}
![Bat analysis_3](/pics/hw5_writeup_files/failure.png 'Bat Analysis'){:height="512px" width="512px"}
![Cell analysis_1](/pics/hw5_writeup_files/cell_success.png 'Cell Analysis'){:height="512px" width="512px"}
![Cell analysis_2](/pics/hw5_writeup_files/cell_failure.png 'Cell Analysis'){:height="512px" width="512px"}
![Cell analysis_3](/pics/hw5_writeup_files/cell_analysis.png 'Cell Analysis'){:height="512px" width="512px"}


